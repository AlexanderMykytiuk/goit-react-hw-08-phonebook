(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[1],{187:function(t,n,e){t.exports={LoginRegistrationPage:"common_LoginRegistrationPage__el0LV",textField:"common_textField__21lNN",margin:"common_margin__3_xRf",button:"common_button__280oC",mainTitle:"common_mainTitle__1qAgw",image:"common_image__3x1HD"}},195:function(t,n,e){t.exports={container:"ContactList_container__2gx81",list:"ContactList_list__1Djkd"}},196:function(t,n,e){t.exports={listItem:"ListItem_listItem__2pojN",name:"ListItem_name__j8Xrr",number:"ListItem_number__C6LRQ"}},197:function(t,n,e){t.exports={button:"Button_button__2JE4L"}},198:function(t,n,e){t.exports={container:"ContactForm_container__2q77h",form:"ContactForm_form__NSEzV",input:"ContactForm_input__1uKSH",label:"ContactForm_label__3udsz"}},199:function(t,n,e){t.exports={findContact:"Filter_findContact__1Q5_C",findContactLabel:"Filter_findContactLabel__3_TW7",findContactInput:"Filter_findContactInput__1NITB",title:"Filter_title__t0MwX"}},221:function(t,n,e){"use strict";e.r(n);var a=e(54),c=e(31),r=e(57),o=e(56),s=e(0),i=e.n(s),u=e(65),l=(e(99),e(12)),m=e(22),f=e.n(m),b=e(38),d=e(26),p=e.n(d),j=e(17),h=j.a.fetchContactRequest,_=j.a.fetchContactSuccess,x=j.a.fetchContactError,C=j.a.addContactRequest,O=j.a.addContactSuccess,v=j.a.addContactError,g=j.a.deleteContactRequest,N=j.a.deleteContactSuccess,y=j.a.deleteContactError,k=function(t,n){return function(){var e=Object(b.a)(f.a.mark((function e(a){var c,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={name:t,number:n},a(C()),e.prev=2,e.next=5,p.a.post("/contacts",c);case 5:r=e.sent,a(O(r.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),a(v(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},L=function(t){return function(){var n=Object(b.a)(f.a.mark((function n(e){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e({type:g()}),n.prev=1,n.next=4,p.a.delete("./contacts/".concat(t));case 4:e(N(t)),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),e(y(n.t0.message));case 10:case"end":return n.stop()}}),n,null,[[1,7]])})));return function(t){return n.apply(this,arguments)}}()},w=function(){return function(){var t=Object(b.a)(f.a.mark((function t(n){var e;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(h()),t.prev=1,t.next=4,p.a.get("/contacts");case 4:e=t.sent,n(_(e.data)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n(x(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(n){return t.apply(this,arguments)}}()},I=e(195),S=e.n(I),F=e(196),D=e.n(F),R=e(197),T=e.n(R),E=e(2),q=function(t){var n=t.onClick,e=t.text,a=t.type,c=void 0===a?"button":a;return Object(E.jsx)("button",{type:c,className:T.a.button,onClick:n,children:e})};q.defaultProps={onClick:function(){return null}};var A=q,H=function(t){var n=t.contacts,e=t.onDeleteContact;return n.map((function(t){var n=t.id,a=t.name,c=t.number;return Object(E.jsxs)("li",{className:D.a.listItem,children:[Object(E.jsxs)("p",{className:D.a.name,children:[a," "]}),Object(E.jsxs)("p",{className:D.a.number,children:[c," "]}),Object(E.jsx)(A,{text:"Delete",onClick:function(){return e(n)}})]},n)}))},P=function(t){var n=t.contacts,e=t.onDeleteContact;return Object(E.jsx)("div",{className:S.a.container,children:Object(E.jsx)("ul",{className:S.a.list,children:Object(E.jsx)(H,{contacts:n,onDeleteContact:e})})})},J=e(43),z=function(t){return t.contacts.items},B=function(t){return t.contacts.filter},M=Object(J.a)([z,B],(function(t,n){var e=n.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(e)}))})),Q=Object(l.b)((function(t){return{contacts:M(t)}}),(function(t){return{onDeleteContact:function(n){return t(L(n))}}}))(P),V=e(3),X=e(198),K=e.n(X),W=function(t){Object(r.a)(e,t);var n=Object(o.a)(e);function e(){var t;Object(a.a)(this,e);for(var c=arguments.length,r=new Array(c),o=0;o<c;o++)r[o]=arguments[o];return(t=n.call.apply(n,[this].concat(r))).state={name:"",number:""},t.handleInputChange=function(n){var e=n.currentTarget.name;t.setState(Object(V.a)({},e,n.currentTarget.value.trimLeft()))},t.handleSubmit=function(n){n.preventDefault();var e=t.props,a=e.contacts,c=e.addContact,r=t.state,o=r.name,s=r.number;if(!o||!s||!1===/^\d+/.test(s))return Object(u.b)("Please fill all fields in the correct format");a.find((function(t){return t.name===o}))?(Object(u.b)("".concat(o," is already in the contacts")),t.reset()):(c(o,s),t.reset())},t.reset=function(){t.setState({name:"",number:""})},t}return Object(c.a)(e,[{key:"render",value:function(){var t=this.state,n=t.name,e=t.number;return Object(E.jsxs)("div",{className:K.a.container,children:[Object(E.jsx)("h2",{children:"Add new contacts"}),Object(E.jsxs)("form",{onSubmit:this.handleSubmit,className:K.a.form,children:[Object(E.jsxs)("label",{className:K.a.label,children:["Name",Object(E.jsx)("input",{className:K.a.input,name:"name",type:"text",value:n,onChange:this.handleInputChange})]}),Object(E.jsxs)("label",{className:K.a.label,children:["Number",Object(E.jsx)("input",{className:K.a.input,name:"number",type:"tel",value:e,onChange:this.handleInputChange})]}),Object(E.jsx)(A,{text:"Add contact",type:"submit"})]})]})}}]),e}(i.a.Component),G=Object(l.b)((function(t){return{contacts:z(t)}}),(function(t){return{addContact:function(n,e){return t(k(n,e))}}}))(W),U=e(199),Y=e.n(U),Z=function(t){var n=t.filter,e=t.onHandleInputSearch;return Object(E.jsxs)("div",{className:Y.a.findContact,children:[Object(E.jsx)("h2",{className:Y.a.title,children:"Find your contacts by name"}),Object(E.jsx)("label",{className:Y.a.findContactLabel,children:Object(E.jsx)("input",{className:Y.a.findContactInput,name:"filter",type:"text",value:n,onChange:e,placeholder:"Enter the name"})})]})},$=Object(l.b)((function(t){return{filter:B(t)}}),(function(t){return{onHandleInputSearch:function(n){return t(j.a.filterContact(n.currentTarget.value))}}}))(Z),tt=e(83),nt=e(187),et=e.n(nt),at=function(t){Object(r.a)(e,t);var n=Object(o.a)(e);function e(){return Object(a.a)(this,e),n.apply(this,arguments)}return Object(c.a)(e,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){return Object(E.jsxs)("div",{className:et.a.contactContainer,children:[Object(E.jsx)(G,{}),Object(E.jsx)($,{}),this.props.isLoading&&Object(E.jsx)(tt.a,{}),Object(E.jsx)(Q,{}),Object(E.jsx)(u.a,{})]})}}]),e}(i.a.Component);n.default=Object(l.b)((function(t){return{isLoading:t.contacts.loading}}),(function(t){return{fetchContacts:function(){return t(w())}}}))(at)}}]);
//# sourceMappingURL=Contacts-page.dd1ce367.chunk.js.map